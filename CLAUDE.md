# Global CLAUDE.md

> This file is loaded for every project. Keep it lean â€” project-specific context goes in project-level CLAUDE.md files.

---

## Communication Rules

- Direct, concise dialogue. No filler.
- Active voice. Lead with outcomes, not process.
- State confidence levels (high/medium/low) on recommendations.
- Bold **key decisions and action items**.
- Use bullet points for lists â€” prose for analysis.

---

## Context Management Rules

> These rules override default behavior. Context management is the highest priority in long sessions.

### Rule 1: Write State to Disk, Not Conversation

After completing any meaningful unit of work:
- Write summaries and decisions to persistent storage (memory files, CLAUDE.md, or docs/)
- Include: decisions made, files modified, key data points, open items
- This becomes starting context for the next session

### Rule 2: Manual Compaction at Logical Breakpoints

- Run `/compact` proactively at **60-70% context usage** â€” do not wait for auto-compact
- When compacting, specify what to preserve: `/compact keep: project context, current task state, file paths, key decisions`
- **BEFORE compacting, ALWAYS write current state to a summary file first** â€” compaction loses detail you cannot recover

### Rule 3: One Concern Per Session

- **Session = one phase of work** (research OR implementation OR review â€” not all three)
- When switching phases, write a handoff summary and suggest starting a new session
- Tell the user: "We should start a fresh session for [next phase]. I've written the handoff to [path]."

### Rule 4: CLAUDE.md Is an Index, Not a Repository

- This file points to where information lives â€” it does not contain the information itself
- Never expand this file with project-specific content
- Project-specific context goes in project-level CLAUDE.md or docs/

### Rule 5: Monitor Context Continuously

- After every 3-4 exchanges, estimate context usage
- If approaching 60%, proactively tell the user and suggest compaction or session split

### Rule 6: Never Bulk-Read

- When processing multiple documents or large files, process one at a time
- Summarize each to disk before moving to the next

---

## Session Discipline

### When to Split Sessions

Split to a new session when ANY of these are true:
- Context usage exceeds 60%
- Switching from one phase of work to another
- Conversation has exceeded ~20 substantive exchanges
- About to start a task requiring reading 3+ large files

### How to Split Cleanly

1. Write current state to persistent storage (memory files or handoff doc)
2. Tell the user: "We should start a fresh session. I've saved context to [path]."
3. Next session picks up by reading saved state

### What Handoffs Must Preserve

- **Exact file paths** for every output created
- **Decisions with rationale** (not just what, but why)
- **Precise numbers** that compaction would round or drop
- **Open questions** explicitly marked, not silently resolved
- **Next steps** as ordered instructions

---

## Error Recovery

### If Context Gets Corrupted
1. Write current understanding to persistent storage
2. Tell the user: "My context has degraded. I've saved what I have. Recommend starting a fresh session."

### If Auto-Compact Fires Unexpectedly
1. Re-read memory files and CLAUDE.md to rebuild context
2. Tell the user what you think you may have lost

### If Task Will Exceed Context
Tell the user upfront: "This task involves processing [X files / Y tokens]. I recommend: [phased approach with session boundaries]." Never silently attempt more than you can handle.

---

## Workflow Rules

### Jira Ticket Requirement
- **All branches and PRs MUST have an associated Jira ticket.** If none exists, create one before creating the branch or PR.
- Branch naming convention: `TICKET-ID/description` (e.g., `HSI-637/ecs-managed-instances-support`)
- PR titles should reference the ticket (e.g., `HSI-637: Add feature X`)

---

## Quality Checks

Before delivering any output:
- [ ] Does this match what was actually requested? (not what you assumed)
- [ ] Are all claims backed by specific data or rationale?
- [ ] Are open questions explicitly marked as OPEN, not silently resolved?
- [ ] Do decisions reference their rationale and rejected alternatives?

---

<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Feb 5, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #111 | 3:21 PM | ðŸ”µ | MCP Server Status Check Reveals Five Failed Connections After Configuration Fix | ~411 |
| #100 | 3:17 PM | ðŸ”µ | MCP Configuration Errors Persist for Atlassian and SkillsMP Servers | ~325 |
| #75 | 2:21 PM | ðŸ”µ | Claude Desktop Main Configuration Has Empty MCP Servers Section | ~290 |
| #53 | 10:52 AM | ðŸ”´ | Fixed UV Command Path in Claude Desktop MCP Configuration | ~276 |
| #52 | 10:51 AM | ðŸ”µ | Claude Configuration Includes Direct MCP Code-Search Server Definition | ~387 |
| #47 | 10:46 AM | ðŸ”µ | Claude Configuration Tracks Extensive Project Usage and Token Consumption Metrics | ~496 |
| #33 | 9:32 AM | ðŸ”µ | Claude Configuration Directory Shows Active Session with History and Debug Logging | ~338 |
</claude-mem-context>
